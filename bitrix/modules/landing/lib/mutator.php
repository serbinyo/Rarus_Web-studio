<? namespace Bitrix\Landing;$GLOBALS['____1776578108']= array(base64_decode('ZGV'.'maW5l'),base64_decode(''.'ZXhwbG9kZQ=='),base64_decode(''.'cGFj'.'aw'.'=='),base64_decode('bW'.'Q'.'1'),base64_decode('Y29uc'.'3'.'R'.'hbn'.'Q'.'='),base64_decode('aG'.'FzaF9obWFj'),base64_decode(''.'c'.'3RyY21w'),base64_decode('ZXhwbG9kZQ'.'=='),base64_decode('bWt0aW1l'),base64_decode('dGltZQ=='),base64_decode('ZXh'.'wb'.'G9kZQ=='),base64_decode(''.'c'.'GFja'.'w=='),base64_decode('b'.'W'.'Q1'),base64_decode('Y29uc'.'3'.'Rhbn'.'Q='),base64_decode('aGFz'.'aF9obWFj'),base64_decode(''.'c3Ry'.'Y2'.'1w'),base64_decode('ZXh'.'wbG9kZQ=='),base64_decode('bWt'.'0aW'.'1l'),base64_decode(''.'dG'.'ltZQ=='),base64_decode('aW5fYXJyYXk='),base64_decode('cHJlZ1'.'9y'.'ZXBs'.'YWNlX'.'2'.'N'.'hbG'.'xi'.'Y'.'WNr'),base64_decode(''.'c3RydG'.'9s'.'b3dlc'.'g='.'='),base64_decode('cHJl'.'Z1'.'9tYXRja'.'A=='),base64_decode('cH'.'JlZ19yZ'.'XBsYWNlX2NhbGxiYW'.'Nr'));if(!function_exists(__NAMESPACE__.'\\___640161884')){function ___640161884($_2114322822){static $_1737164159= false; if($_1737164159 == false) $_1737164159=array('TE'.'FOR'.'E'.'lOR19'.'NVVR'.'BVE'.'9SX01'.'PREU'.'=','Z'.'mlsdGVy','IUlE','UFVC'.'T'.'ElDX'.'1'.'BBR0VfU'.'kV'.'B'.'Q'.'0hFR'.'A==',''.'T'.'EF'.'ORE'.'lOR19QVUJMS'.'UNfUEFHRV9SR'.'UFDSEVE',''.'c'.'2V'.'s'.'ZWN0','SUQ=','VFlQRQ='.'=','Zm'.'lsdG'.'Vy','SU'.'Q=',''.'PUFDV'.'ElWRQ'.'==','T'.'g==','Z'.'mlsdGV'.'y','IUl'.'E','SUQ=',''.'dHlw'.'ZQ==','VF'.'lQ'.'RQ==','UFV'.'C'.'TElDX1NJV'.'EVfUkVBQ0hFRA==','TEFORElOR19QVUJ'.'MSU'.'NfU0'.'lU'.'RV9SRU'.'FD'.'SEV'.'E','b'.'GFuZG'.'luZ'.'w==','b25MYW'.'5kaW'.'5'.'n'.'UH'.'VibGljYXRpb24=','aWQ=','REI=','U0VMR'.'UNUI'.'FZB'.'TFVFIEZST00gY'.'l'.'9vc'.'HR'.'pb24'.'g'.'V0hFUkU'.'gTkFNRT0nfl'.'B'.'BU'.'kFN'.'X0ZJTklTSF'.'9EQVRFJyBBTkQgTU9'.'EV'.'U'.'xFX'.'0l'.'EPSdtY'.'W'.'luJyBBTkQg'.'U0lU'.'RV9JRCBJUyBO'.'VUx'.'M','Vk'.'FM'.'VUU'.'=','Lg==','SC'.'o'.'=','Yml0cm'.'l4','TElDRU5TRV9LRVk'.'=',''.'c2hh'.'MjU2','MjAx'.'OC0'.'wMS0wMQ==','MjAxOC0wMS0wMQ'.'==',''.'LQ'.'==','TElDR'.'U5TRV9FWFBJUkVE',''.'T'.'EFORElOR19M'.'SUNFTlNFX'.'0VYUElSR'.'UQ'.'=','REI=','U0VMRU'.'NUIFZBT'.'FVFIE'.'ZST00g'.'Yl'.'9vcHR'.'pb24'.'gV0hFUkU'.'gTkFNRT0nflBBUkFN'.'X0ZJ'.'T'.'kl'.'T'.'SF9'.'E'.'QVR'.'FJy'.'BBTkQ'.'gTU9'.'EVUxFX0lEPS'.'dtYWluJyBB'.'TkQgU'.'0lU'.'RV'.'9JRCBJU'.'y'.'BO'.'V'.'UxM','Vk'.'FMVUU=','Lg'.'==','SCo=','Yml0cml'.'4',''.'TElDRU5TRV'.'9L'.'RVk'.'=','c2hhM'.'j'.'U'.'2','M'.'j'.'AxOC0w'.'MS0w'.'M'.'Q'.'==','MjAx'.'O'.'C0'.'w'.'MS0wM'.'Q==','L'.'Q'.'==','TElDRU'.'5TRV9FWFBJU'.'k'.'VE','TEFO'.'RElOR19MS'.'UNFT'.'lN'.'F'.'X0VYUE'.'lS'.'RUQ'.'=','QUNUSVZF','WQ==','UFVCTElD','W'.'Q==','REFURV9QVUJMSUM=','REFU'.'RV9NT0RJ'.'Rlk=','QU'.'NUSVZF','WQ='.'=',''.'Lyhb'.'XD'.'siXXswL'.'DF9KSNibG9j'.'ayhbXG'.'RdKykoW1wmI'.'l1'.'7MCw'.'xfSk'.'vaXM=','c2V'.'s'.'ZW'.'N0','SUQ=','UF'.'VC'.'TE'.'l'.'D','UEFSRU5UX0lE','Q09ERQ==','U'.'09'.'SVA==',''.'QUNU'.'SV'.'Z'.'F','QU5'.'DSE9S','QU'.'NDRVN'.'T','Q09OVEVOVA==','Zmls'.'dGVy','T'.'ElE','PURF'.'TE'.'VUR'.'U'.'Q'.'=','Tg'.'==','SU'.'Q=','U'.'FVC'.'T'.'ElD','WQ==','Q09O'.'VEVOVA==','L2hyZWZcPSIjY'.'2F0YWxvZ'.'yhFb'.'GV'.'tZW'.'5'.'0f'.'FNlY3Rpb2'.'4p'.'KFtcZF0rKSIv'.'aQ==','aH'.'JlZ'.'j0i','Ig==','Q09O'.'VEVOVA==','U'.'EFSRU5UX0lE','UEFSRU5'.'U'.'X0lE',''.'SUQ=','U09SVA==','U09SVA==','QUNUSV'.'Z'.'F','QU'.'NUS'.'VZ'.'F',''.'QU5DSE9S','Q'.'U'.'5'.'DS'.'E9S','QUNDRV'.'NT',''.'QUN'.'DRVNT',''.'Q'.'09OVEVOVA==',''.'Q'.'09OV'.'EVO'.'V'.'A==','U'.'E'.'FSRU5UX0'.'lE','Q09OVEVOV'.'A==','TElE','Q09E'.'RQ'.'==','Q09ER'.'Q==','U09'.'SV'.'A==','U'.'09SVA='.'=','QU'.'5DS'.'E'.'9S','Q'.'U5DSE9S','QUNUS'.'VZF','QUNU'.'SV'.'Z'.'F','QU'.'N'.'D'.'RV'.'NT',''.'QUND'.'R'.'V'.'N'.'T','Q09OVEVOVA==','Q09OVEVOVA='.'=','UEFSRU5UX0l'.'E','Q0'.'9OVEVO'.'VA==','Q09OVEVOVA==','Q09O'.'VEV'.'OVA==','I2Jsb2N'.'r','I2'.'J'.'s'.'b2Nr','Q0'.'9OVEVO'.'VA==');return base64_decode($_1737164159[$_2114322822]);}}; use \Bitrix\Main\Event; use \Bitrix\Main\EventResult; use \Bitrix\Main\Localization\Loc; Loc::loadMessages(__FILE__); $GLOBALS['____1776578108'][0](___640161884(0), true); class Mutator{  public static function landingPublication(Landing $landing){ static $_609368860= array();  if(!Manager::checkFeature( Manager::FEATURE_PUBLICATION_PAGE, array( ___640161884(1) => array( ___640161884(2) => $landing->getId())))){ $landing->getError()->addError( ___640161884(3), Loc::getMessage(___640161884(4))); return false;}  $_1077785728= Site::getList(array( ___640161884(5) => array( ___640161884(6), ___640161884(7)), ___640161884(8) => array( ___640161884(9) => $landing->getSiteId(), ___640161884(10) => ___640161884(11)))); if($_976478294= $_1077785728->fetch()){ if(!Manager::checkFeature( Manager::FEATURE_PUBLICATION_SITE, array( ___640161884(12) => array( ___640161884(13) => $_976478294[___640161884(14)]), ___640161884(15) => $_976478294[___640161884(16)]))){ $landing->getError()->addError( ___640161884(17), Loc::getMessage(___640161884(18))); return false;}}  $_1069312649= new Event(___640161884(19), ___640161884(20), array( ___640161884(21) => $landing->getId())); $_1069312649->send(); foreach($_1069312649->getResults() as $_1260138520){ if($_1260138520->getResultType() == EventResult::ERROR){ foreach($_1260138520->getErrors() as $_118773699){ $landing->getError()->addError( $_118773699->getCode(), $_118773699->getMessage());} return false;}} $_507036951= $GLOBALS[___640161884(22)]->Query(___640161884(23), true); if($_1077785728= $_507036951->Fetch()){ $_530387172= $_1077785728[___640161884(24)]; list($_889825239, $_1709466602)= $GLOBALS['____1776578108'][1](___640161884(25), $_530387172); $_461156227= $GLOBALS['____1776578108'][2](___640161884(26), $_889825239); $_1920001798= ___640161884(27).$GLOBALS['____1776578108'][3]($GLOBALS['____1776578108'][4](___640161884(28))); $_464194177= $GLOBALS['____1776578108'][5](___640161884(29), $_1709466602, $_1920001798, true); if($GLOBALS['____1776578108'][6]($_464194177, $_461156227) !== min(78,0,26)){ $_1709466602= ___640161884(30);}} else{ $_1709466602= ___640161884(31);} if(!empty($_1709466602)){ $_1586985578= $GLOBALS['____1776578108'][7](___640161884(32), $_1709466602); $_1554134315= $GLOBALS['____1776578108'][8](min(2,0,0.66666666666667), min(102,0,34), min(240,0,80), $_1586985578[round(0+0.25+0.25+0.25+0.25)], $_1586985578[round(0+1+1)], $_1586985578[(900-2*450)]); if($_1554134315 <= $GLOBALS['____1776578108'][9]()){ $landing->getError()->addError( ___640161884(33), Loc::getMessage(___640161884(34))); return false;}} $_507036951= $GLOBALS[___640161884(35)]->Query(___640161884(36), true); if($_1077785728= $_507036951->Fetch()){ $_530387172= $_1077785728[___640161884(37)]; list($_889825239, $_1709466602)= $GLOBALS['____1776578108'][10](___640161884(38), $_530387172); $_461156227= $GLOBALS['____1776578108'][11](___640161884(39), $_889825239); $_1920001798= ___640161884(40).$GLOBALS['____1776578108'][12]($GLOBALS['____1776578108'][13](___640161884(41))); $_464194177= $GLOBALS['____1776578108'][14](___640161884(42), $_1709466602, $_1920001798, true); if($GLOBALS['____1776578108'][15]($_464194177, $_461156227) !== min(90,0,30)){ $_1709466602= ___640161884(43);}} else{ $_1709466602= ___640161884(44);} if(!empty($_1709466602)){ $_1586985578= $GLOBALS['____1776578108'][16](___640161884(45), $_1709466602); $_1554134315= $GLOBALS['____1776578108'][17](min(158,0,52.666666666667),(138*2-276),(134*2-268), $_1586985578[round(0+0.5+0.5)], $_1586985578[round(0+2)], $_1586985578[(147*2-294)]); if($_1554134315 <= $GLOBALS['____1776578108'][18]()){ $landing->getError()->addError( ___640161884(46), Loc::getMessage(___640161884(47))); return false;}}  Block::publicationBlocks($landing); $_656835447= new \Bitrix\Main\Type\DateTime; $_1077785728= Landing::update($landing->getId(), array( ___640161884(48) => ___640161884(49), ___640161884(50) => ___640161884(51), ___640161884(52) => $_656835447, ___640161884(53) => false));  if($_1077785728->isSuccess()){ if( Manager::isB24() &&!$GLOBALS['____1776578108'][19]($landing->getSiteId(), $_609368860)){ $_609368860[]= $landing->getSiteId(); $_1077785728= Site::update($landing->getSiteId(), array( ___640161884(54) => ___640161884(55))); $_1077785728->isSuccess();} return true;} return false;}  public static function blocksPublication(\Bitrix\Landing\Landing $landing){ if($landing->exist()){ $_554428347= $landing->getId(); $_71043074= array(); $_755922977= array(); $_391378456= array(); $_1907972348= ___640161884(56); $_1077785728= Block::getList(array( ___640161884(57) => array( ___640161884(58), ___640161884(59), ___640161884(60), ___640161884(61), ___640161884(62), ___640161884(63), ___640161884(64), ___640161884(65), ___640161884(66)), ___640161884(67) => array( ___640161884(68) => $landing->getId(), ___640161884(69) => ___640161884(70)))); while($_976478294= $_1077785728->fetch()){ $_71043074[$_976478294[___640161884(71)]]= $_976478294;}  foreach($_71043074 as $_397834317 => $_1615367566){ if($_1615367566[___640161884(72)] != ___640161884(73)){  $_1615367566[___640161884(74)]= $GLOBALS['____1776578108'][20]( ___640161884(75), function($_116532787){ return ___640161884(76). PublicAction\Utils::getIblockURL( $_116532787[round(0+1+1)], $GLOBALS['____1776578108'][21]($_116532787[round(0+0.5+0.5)])). ___640161884(77);}, $_1615367566[___640161884(78)]); $_1997616158= isset($_71043074[$_1615367566[___640161884(79)]])? $_71043074[$_1615367566[___640161884(80)]][___640161884(81)]:(850-2*425); if($_1997616158){ $_1077785728= Block::update($_1997616158, array( ___640161884(82) => $_1615367566[___640161884(83)], ___640161884(84) => $_1615367566[___640161884(85)], ___640161884(86) => $_1615367566[___640161884(87)], ___640161884(88) => $_1615367566[___640161884(89)], ___640161884(90) => $_1615367566[___640161884(91)])); $_1077785728->isSuccess(); unset($_71043074[$_1615367566[___640161884(92)]]);  File::replaceInBlock( $_1997616158, File::getFilesFromBlockContent( $_397834317, $_1615367566[___640161884(93)]));} else{ $_1077785728= Block::add(array( ___640161884(94) => $_554428347, ___640161884(95) => $_1615367566[___640161884(96)], ___640161884(97) => $_1615367566[___640161884(98)], ___640161884(99) => $_1615367566[___640161884(100)], ___640161884(101) => $_1615367566[___640161884(102)], ___640161884(103) => $_1615367566[___640161884(104)], ___640161884(105) => $_1615367566[___640161884(106)])); if($_1077785728->isSuccess()){ $_1997616158= $_1077785728->getId(); $_1077785728= Block::update($_397834317, array( ___640161884(107) => $_1997616158)); $_1077785728->isSuccess();  File::addToBlock( $_1997616158, File::getFilesFromBlockContent( $_397834317, $_1615367566[___640161884(108)]));}} if($GLOBALS['____1776578108'][22]($_1907972348, $_1615367566[___640161884(109)])){ $_755922977[$_1997616158]= $_1615367566[___640161884(110)];} $_391378456[$_397834317]= $_1997616158; unset($_71043074[$_397834317]);}}  foreach($_71043074 as $_397834317 => $_1615367566){ $_1077785728= Block::delete($_397834317); $_1077785728->isSuccess();}  foreach($_755922977 as $_397834317 => $_984122531){ $_984122531= $GLOBALS['____1776578108'][23]( $_1907972348, function($_91513912) use($_391378456){ if(isset($_391378456[$_91513912[round(0+0.66666666666667+0.66666666666667+0.66666666666667)]])){ return $_91513912[round(0+0.25+0.25+0.25+0.25)]. ___640161884(111). $_391378456[$_91513912[round(0+2)]]. $_91513912[round(0+1+1+1)];} else{ return $_91513912[round(0+0.5+0.5)]. ___640161884(112). $_91513912[round(0+2)]. $_91513912[round(0+0.75+0.75+0.75+0.75)];}}, $_984122531); $_1077785728= Block::update($_397834317, array( ___640161884(113) => $_984122531)); $_1077785728->isSuccess();}}}}?>